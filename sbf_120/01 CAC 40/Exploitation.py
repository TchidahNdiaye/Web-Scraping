# -*- coding: utf8 -*-

import requests
import pdb
import re

with open('pagescollectees/accor.txt','r',encoding='utf8') as output:
    content = output.read()

d = 250

action = content[88215-d:88215+d]
secteur = content[188859-d:188859+d]
tele_firme = content[90937-d:90937+d]
tele_sect = content[181183-d:181183+d]

patern = '<h1 class="float_lang_base_1 relativeAttr"\n\tdir="ltr" itemprop="name">(.+?(?=\t</h1>))'
firme = re.findall(patern,content)
if firme==[]:
    print("problème d\'extraction de la firme")
else:
    print('le nom de la société est:',firme) #.{5,7} --- (.+?(?=

pattern1 = '<div>Secteur<a href="/stock-screener/.{45,68}">(.+?(?=</a></div>))'
sector = re.findall(pattern1,content)
if sector==[]:
    print("problème d\'extraction du secteur",firme)
else:
    print('le nom du secteur est:',sector,firme)
 
pdb.set_trace()

'''
#teleperformance 
patern = 'class="float_lang_base_1 relativeAttr"\n\tdir="ltr" >(.+?(?=\t</h1>))'
result = re.findall(patern,content)
if result==[]:
    print("problème d\'extraction")
else:
    print('le nom de la société est:',result) #.{5,7}

pattern1 = '<div>Sector<a href="/stock-screener/.{45,70}">(.+?(?=</a>))'
sector = re.findall(pattern1,content)
if sector==[]:
    print("problème d\'extraction du secteur",result)
else:
    print('le nom du secteur est:',sector)
'''
